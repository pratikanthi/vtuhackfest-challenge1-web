<!DOCTYPE HTML>
<html>
  <head>

      <title>VTU Hackfest Web Challenge - 1</title>
      <link rel="stylesheet" type="text/css" href="css/normalize.css"/>
      <link rel="stylesheet" type="text/css" href="css/style.css"/>
      <link rel="stylesheet" type="text/css" href="css/dialog.css"/>
      <link rel="stylesheet" type="text/css" href="css/magnific-popup.css"/>
      <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
      <script type="text/javascript" src="js/jquery.magnific-popup.min.js"></script>
      <script>

      $(document).ready(function() {
	       $('.popup-with-zoom-anim').magnificPopup({
        		type: 'inline',

        		fixedContentPos: false,
        		fixedBgPos: true,

        		overflowY: 'auto',

        		closeBtnInside: true,
        		preloader: false,

        		midClick: true,
        		removalDelay: 300,
        		mainClass: 'my-mfp-zoom-in'
	});

});



  </script>
  </head>
  <body>
      <div class="container">


          <div class="sidebar">
              <center>

                    <img class="profile-picture" src="http://i.dailymail.co.uk/i/pix/2014/01/24/article-2545146-1AE7879100000578-793_634x681.jpg" height="150px">
                    <h3>Cersei Lannister</h3>

              </center>

              <p class="your-profile"><b>Your Profile</b><span style="float:right;margin-right:10px;">66%</span></p>
              <div class="meter">
                <span style="width: 66%"></span>
              </div>

              <div class="profile-meta">
                <p><img class="tick checked" src="images/tick.png" />Add Credit Card</p>
                <p><img class="tick unchecked" src="images/tick.png" />Verify Mobile</p>
                <p><img class="tick checked" src="images/tick.png" />Verify Email</p>
              </div>

              <div class="menu">
                <p><b>My Trips</b></p>
                <a href="#"><p>Profile</p></a>
                <a href="#"><p>Payment</p></a>
                <a href="#"><p>Free Rides<span style="float:right;color:#32b3d8">NEW!</span></p></a>
                <a class="popup-with-zoom-anim" href="#login-form"><p>Validate<span style="float:right;color:#d83232">Admin! Click here</span></p></a>
                <a href="#"><p>Logout</p></a>

                <div id="login-form" class="zoom-anim-dialog mfp-hide">
                	<center><h1>Validation Form</h1>
                  <p>Enter your email and password and click validate</p>
                  <form method="post" action="" onsubmit="return val();">
                      <div class="field">

                              <input type="text" name="em" id="eml" placeholder="Email">
                              <p id="email-error"></p>
                      </div>
                      <div class="field">
                              <input type="password" name="pwd" id="pass" placeholder="Password">
                              <div id="pass-error"></div>
                      </div>
                      <div class="field">
                              <input type="submit" value="Validate">
                      </div>
                  </form>
                </center>
              </div>

          </div>

          </div>

          <div class="content-box">
            <div class="top-strip">
              <span class="filter"><i class="fa fa-sliders fa-rotate-90"></i>&nbsp;Filter Trips</span>
              <center><h3 class="content-box-header">MY TRIPS</h3></center>
            </div>

              <table width="100%" class="fancy-table" id="table">

                <tr>
                  <td></td>
                  <td><b>Pickup</b></td>
                  <td><b>Driver</b></td>
                  <td class="fare"><b>Fare</b></td>
                  <td><b>City<b></td>
                  <td><b>Payment Method</b></td>
                </tr>


                <script>
                var myjson;
                  $.getJSON("https://raw.githubusercontent.com/pratikanthi/vtuhackfest-challenge1-web/master/data.json", function(json) {

                    myjson = json;

                    myjson.forEach( function (item){

                      if(item.fare==0){
                        item.fare += '<br/><span class="cancelled">Canceled</span>';
                      }
                      document.getElementById('table').innerHTML += "<td><span class='fa fa-chevron-right'></span></td><td> "+ item.pickup +"</td><td>"+ item.driver + "</td><td class='fare'>&#8377;"+ item.fare +"</td><td>"+ item.city +"</td><td><i class='fa fa-credit-card'></i>&nbsp;&#9679;&#9679;&#9679;payt</td>";

                    });
                });


                </script>

            </table>

          </div>

        </div>






  </body>
  <script type="text/javascript">
  function val(){
      var e = document.getElementById('eml');
      var p = document.getElementById('pass');
      if(e.value=='' || e.value==null){
        document.getElementById('email-error').innerHTML ="Please enter an email";
          return false;
      }
      if(p.value =='' || p.value == null){
        document.getElementById('pass-error').innerHTML ="Please enter a password";
          return false;
      }
      if(val_email(e.value)==false){
        document.getElementById('email-error').innerHTML ="Not a valid email";
          return false;
      }
      else
        alert("Validated");
  }
  function val_email(email) {
      var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
      return re.test(email);
  }


  </script>

</html>
